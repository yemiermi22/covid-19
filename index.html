<!DOCTYPE html>
<html lang="en">
<head>
  <title>Covid19</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
</head>

<body>
  <h1 style="text-align:center;">Covid19 Dashboard</h1>
  <form id="myform">
    <h2>Covid19 Total Day One</h2><br>
    <input type="text" id="country" placeholder="Country Name" required>
    <input type="submit" value="Get Data">
  </form> 

  <h1 id="confirmed">Total confirmed:</h1>
  <h1 id="recovered">Total recovered:</h1>
  <h1 id="deaths">Total deaths:</h1>
  <br>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/export                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ing.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  
  <figure class="highcharts-figure">
    <div id="container">
      <div class="container-ta">
        <style>
        .highcharts-figure,
.highcharts-data-table table {
  min-width: 310px;
  max-width: 800px;
  margin: 1em auto;
}

#container {
  height: 400px;
}

.highcharts-data-table table {
  font-family: Verdana, sans-serif;
  border-collapse: collapse;
  border: 1px solid #ebebeb;
  margin: 10px auto;
  text-align: center;
  width: 100%;
  max-width: 500px;
}

.highcharts-data-table caption {
  padding: 1em 0;
  font-size: 1.2em;
  color: #555;
}

.highcharts-data-table th {
  font-weight: 600;
  padding: 0.5em;
}

.highcharts-data-table td,
.highcharts-data-table th,
.highcharts-data-table caption {
  padding: 0.5em;
}

.highcharts-data-table thead tr,
.highcharts-data-table tr:nth-child(even) {
  background: #f8f8f8;
}

.highcharts-data-table tr:hover {
  background: #f1f7ff;
}
   

        </style>

  <div class="container-fluid">


  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <canvas id="bar-chart"></canvas>

  <script>
    var myform = document.getElementById('myform');

    myform.addEventListener('submit', function(e) {
      e.preventDefault();

      var country = document.getElementById('country').value;

      // fetch data
      var requestOptions = {
        method: 'GET',
        redirect: 'follow'
      };

      fetch('https://api.covid19api.com/total/dayone/country/' + country, requestOptions)
        .then(res => res.json())
        .then((res) => {
          console.log(res);
          var length = res.length;
          var index = length - 1;
          var confirmed = document.getElementById('confirmed');
          var recovered = document.getElementById('recovered');
          var deaths = document.getElementById('deaths');

          confirmed.innerHTML = 'Confirmed: ' + res[index].Confirmed;
          recovered.innerHTML = 'recovered: ' + res[index].recovered;
          deaths.innerHTML = 'Deaths: ' + res[index].Deaths;

        })
        .catch(error => console.log('error', error));
    });
  </script>
  <script>
   const chart = Highcharts.chart('container', {
    title: {
        text: 'Covid19 Status',
        align: 'left'
    },
    
    xAxis: {
        categories: ['Countries', 'ByCountryAllStatus', 'ByCountryTotal',  'DayOneAllStatus', 'CountryDayOneTotalAllStatus']
    },
    series: [{
        type: 'column',
        name: 'Record',
        colorByPoint: true,
        data: [22598652, 126719519, 19936002, 5155254, 11080865 ],
        showInLegend: false
    }]
});

document.getElementById('plain').addEventListener('click', () => {
    chart.update({
        chart: {
            inverted: false,
            polar: false
        },
        subtitle: {
            text: 'Chart option: Plain | Source: ' +
                '<a href="https://www.nav.no/no/nav-og-samfunn/statistikk/arbeidssokere-og-stillinger-statistikk/helt-ledige"' +
                'target="_blank">NAV</a>'
        }
    });
});

document.getElementById('inverted').addEventListener('click', () => {
    chart.update({
        chart: {
            inverted: true,
            polar: false
        },
        subtitle: {
            text: 'Chart option: Inverted | Source: ' +
                '<a href="https://www.nav.no/no/nav-og-samfunn/statistikk/arbeidssokere-og-stillinger-statistikk/helt-ledige"' +
                'target="_blank">NAV</a>'
        }
    });
});

document.getElementById('polar').addEventListener('click', () => {
    chart.update({
        chart: {
            inverted: false,
            polar: true
        },
        subtitle: {
            text: 'Chart option: Polar | Source: ' +
                '<a href="https://www.nav.no/no/nav-og-samfunn/statistikk/arbeidssokere-og-stillinger-statistikk/helt-ledige"' +
                'target="_blank">NAV</a>'
        }
    });
});


  </script>
       
</body>
</html>